/**
 * Default algorithm parameters and mutable app settings.
 */
(() => {
  window.Vectura = window.Vectura || {};
  window.Vectura.ALGO_DEFAULTS = {
    wavetable: {
      lines: 130,
      noiseType: 'simplex',
      noiseImageId: '',
      noiseImageName: '',
      noises: [
        {
          id: 'noise-1',
          enabled: true,
          type: 'simplex',
          blend: 'add',
          amplitude: 9,
          zoom: 0.02,
          freq: 1.0,
          angle: 0,
          shiftX: 0,
          shiftY: 0,
          tileMode: 'off',
          tilePadding: 0,
          patternScale: 1,
          warpStrength: 1,
          cellularScale: 1,
          cellularJitter: 1,
          stepsCount: 5,
          seed: 0,
          noiseStyle: 'linear',
          noiseThreshold: 0,
          imageWidth: 1,
          imageHeight: 1,
          microFreq: 0,
          imageInvertColor: false,
          imageInvertOpacity: false,
          imageId: '',
          imageName: '',
          imagePreview: '',
          imageAlgo: 'luma',
          imageEffects: [
            {
              id: 'effect-1',
              enabled: true,
              mode: 'luma',
              imageBrightness: 0,
              imageLevelsLow: 0,
              imageLevelsHigh: 1,
              imageEmbossStrength: 1,
              imageSharpenAmount: 1,
              imageSharpenRadius: 1,
              imageMedianRadius: 1,
              imageGamma: 1,
              imageContrast: 1,
              imageSolarize: 0.5,
              imagePixelate: 12,
              imageDither: 0.5,
              imageThreshold: 0.5,
              imagePosterize: 5,
              imageBlur: 0,
              imageBlurRadius: 0,
              imageBlurStrength: 1,
              imageEdgeBlur: 0,
              imageHighpassRadius: 1,
              imageHighpassStrength: 1,
              imageLowpassRadius: 2,
              imageLowpassStrength: 0.6,
              imageVignetteStrength: 0.4,
              imageVignetteRadius: 0.85,
              imageCurveStrength: 0.4,
              imageBandCenter: 0.5,
              imageBandWidth: 0.3,
            },
          ],
          imageThreshold: 0.5,
          imagePosterize: 5,
          imageBlur: 0,
          imageBlurRadius: 0,
          imageBlurStrength: 1,
          imageBrightness: 0,
          imageLevelsLow: 0,
          imageLevelsHigh: 1,
          imageEmbossStrength: 1,
          imageSharpenAmount: 1,
          imageSharpenRadius: 1,
          imageMedianRadius: 1,
          imageGamma: 1,
          imageContrast: 1,
          imageSolarize: 0.5,
          imagePixelate: 12,
          imageDither: 0.5,
          noiseStyle: 'linear',
          noiseThreshold: 0,
          imageWidth: 1,
          imageHeight: 1,
          microFreq: 0,
          polygonRadius: 2,
          polygonSides: 6,
          polygonRotation: 0,
          polygonOutline: 0,
          polygonEdgeRadius: 0,
        },
      ],
      imageAlgo: 'luma',
      imageThreshold: 0.5,
      imagePosterize: 5,
      imageBlur: 0,
      amplitude: 9,
      zoom: 0.02,
      tilt: 0,
      gap: 1.0,
      freq: 1.0,
      lineOffset: 180,
      continuity: 'none',
      dampenExtremes: false,
      overlapPadding: 0,
      flatCaps: false,
      edgeFadeMode: 'both',
      edgeFade: 0,
      edgeFadeThreshold: 0,
      edgeFadeFeather: 0,
      noiseAngle: 0,
      verticalFade: 0,
      verticalFadeThreshold: 0,
      verticalFadeFeather: 0,
      verticalFadeMode: 'both',
      smoothing: 0,
      simplify: 0,
      curves: false,
    },
    rings: {
      label: 'Rings',
      rings: 24,
      noiseType: 'simplex',
      amplitude: 8,
      noiseScale: 0.001,
      noiseOffsetX: 0,
      noiseOffsetY: 0,
      noiseLayer: 0.5,
      noiseRadius: 100,
      gap: 1.2,
      offsetX: 0,
      offsetY: 0,
      smoothing: 0,
      simplify: 0,
      curves: true,
    },
    topo: {
      label: 'Topo',
      resolution: 120,
      levels: 30,
      noiseType: 'simplex',
      noiseScale: 0.003,
      noiseOffsetX: 0,
      noiseOffsetY: 0,
      octaves: 3,
      lacunarity: 2.0,
      gain: 0.5,
      sensitivity: 1.0,
      thresholdOffset: 0,
      mappingMode: 'marching',
      smoothing: 0,
      simplify: 0,
      curves: true,
    },
    petalis: {
      label: 'Petalis',
      preset: 'custom',
      petalProfile: 'teardrop',
      petalScale: 32,
      petalWidthRatio: 0.45,
      petalLengthRatio: 1,
      petalSizeRatio: 1,
      leafSidePos: 0.45,
      leafSideWidth: 1,
      leafBaseHandle: 0.35,
      leafSideHandle: 0.4,
      leafTipHandle: 0.35,
      petalSteps: 32,
      layering: true,
      anchorToCenter: 'central',
      anchorRadiusRatio: 1,
      tipSharpness: 0.6,
      tipTwist: 2,
      tipCurl: 0.15,
      baseFlare: 0.25,
      basePinch: 0.1,
      edgeWaveAmp: 0.05,
      edgeWaveFreq: 3,
      radiusScale: 0.2,
      radiusScaleCurve: 1.2,
      sizeJitter: 0.12,
      rotationJitter: 6,
      count: 260,
      countJitter: 0.1,
      ringMode: 'single',
      innerCount: 120,
      outerCount: 180,
      ringSplit: 0.45,
      ringOffset: 12,
      spiralMode: 'golden',
      customAngle: 137.5,
      spiralTightness: 1.1,
      radialGrowth: 1.0,
      spiralStart: 0,
      spiralEnd: 1,
      angularDrift: 0,
      driftStrength: 0.1,
      driftNoise: 0.2,
      centerSizeMorph: 0,
      centerSizeCurve: 1.2,
      centerShapeMorph: 0.2,
      centerProfile: 'oval',
      centerCurlBoost: 0.2,
      centerWaveBoost: 0.2,
      budMode: false,
      budRadius: 0.15,
      budTightness: 0.5,
      centerType: 'disk',
      centerRadius: 8,
      centerDensity: 20,
      centerFalloff: 0.6,
      centerRing: false,
      centerRingRadius: 14,
      centerRingDensity: 16,
      centerConnectors: false,
      connectorCount: 60,
      connectorLength: 10,
      connectorJitter: 0.3,
      shadings: [],
      petalModifiers: [],
      centerModifiers: [
        {
          id: 'mod-1',
          enabled: false,
          type: 'ripple',
          amount: 2,
          frequency: 6,
          scale: 0.2,
          offsetX: 0,
          offsetY: 0,
          radius: 10,
        },
      ],
      smoothing: 0,
      simplify: 0,
      curves: false,
    },
    rainfall: {
      label: 'Rainfall',
      count: 210,
      traceLength: 120,
      traceStep: 3,
      turbulence: 0.25,
      lengthJitter: 0,
      stepJitter: 0,
      gustStrength: 0,
      rainfallAngle: 150,
      angleJitter: 0,
      windAngle: 180,
      windStrength: 0,
      dropSize: 3,
      dropSizeJitter: 0,
      dropRotate: 0,
      dropShape: 'none',
      dropFill: 'none',
      fillDensity: 1,
      fillAngle: 0,
      fillPadding: 0,
      widthMultiplier: 1,
      thickeningMode: 'parallel',
      trailBreaks: 'drop',
      breakSpacing: 10,
      breakLengthJitter: 0,
      breakWidthJitter: 0,
      breakRandomness: 0,
      silhouetteId: '',
      silhouetteName: '',
      silhouetteWidth: 200,
      silhouetteHeight: 200,
      silhouetteTilesX: 1,
      silhouetteTilesY: 1,
      silhouetteSpacing: 0,
      silhouetteOffsetX: 0,
      silhouetteOffsetY: 0,
      silhouetteInvert: false,
      noiseApply: 'trails',
      noises: [],
      smoothing: 0,
      simplify: 0,
      curves: false,
    },
    flowfield: {
      noiseType: 'simplex',
      noiseScale: 0.01,
      lacunarity: 2.0,
      gain: 0.5,
      density: 1200,
      stepLen: 5,
      maxSteps: 200,
      force: 1.0,
      angleOffset: 0,
      chaos: 0.1,
      octaves: 2,
      minSteps: 2,
      minLength: 0,
      smoothing: 0,
      simplify: 0,
      curves: false,
    },
    lissajous: {
      freqX: 3,
      freqY: 2,
      damping: 0.001,
      phase: 1.5,
      resolution: 200,
      scale: 0.8,
      smoothing: 0,
      simplify: 0,
      curves: true,
      closeLines: true,
    },
    harmonograph: {
      label: 'Harmonograph',
      renderMode: 'line',
      samples: 6000,
      duration: 30,
      scale: 0.35,
      paperRotation: 0,
      dashLength: 4,
      dashGap: 2,
      pointStride: 4,
      pointSize: 0.4,
      segmentStride: 6,
      segmentLength: 6,
      gapSize: 0,
      gapOffset: 0,
      gapRandomness: 0,
      widthMultiplier: 1,
      thickeningMode: 'parallel',
      showPendulumGuides: false,
      pendulumGuideColor: '#f59e0b',
      pendulumGuideWidth: 0.25,
      pendulums: [
        {
          id: 'pend-1',
          enabled: true,
          ampX: 100,
          ampY: 100,
          phaseX: 90,
          phaseY: 0,
          damp: 0.002,
          freq: 3,
          micro: 0.01,
        },
        {
          id: 'pend-2',
          enabled: true,
          ampX: 100,
          ampY: 100,
          phaseX: 0,
          phaseY: 90,
          damp: 0.002,
          freq: 2,
          micro: 0.02,
        },
        {
          id: 'pend-3',
          enabled: true,
          ampX: 50,
          ampY: -50,
          phaseX: 270,
          phaseY: 0,
          damp: 0.002,
          freq: 3,
          micro: -0.01,
        },
      ],
      smoothing: 0,
      simplify: 0,
      curves: true,
    },
    spiral: {
      loops: 10,
      res: 100,
      noiseAmp: 10,
      noiseFreq: 0.1,
      noises: [
        {
          id: 'noise-1',
          enabled: true,
          type: 'turbulence',
          blend: 'add',
          amplitude: 10,
          zoom: 0.1,
          freq: 1.0,
          angle: 0,
          shiftX: 0,
          shiftY: 0,
          tileMode: 'off',
          tilePadding: 0,
          patternScale: 1,
          warpStrength: 1,
          cellularScale: 1,
          cellularJitter: 1,
          stepsCount: 5,
          seed: 0,
          applyMode: 'topdown',
          noiseStyle: 'linear',
          noiseThreshold: 0,
          imageWidth: 1,
          imageHeight: 1,
          microFreq: 0,
          imageInvertColor: false,
          imageInvertOpacity: false,
          imageId: '',
          imageName: '',
          imagePreview: '',
          imageAlgo: 'luma',
          imageEffects: [
            {
              id: 'effect-1',
              enabled: true,
              mode: 'luma',
              imageBrightness: 0,
              imageLevelsLow: 0,
              imageLevelsHigh: 1,
              imageEmbossStrength: 1,
              imageSharpenAmount: 1,
              imageSharpenRadius: 1,
              imageMedianRadius: 1,
              imageGamma: 1,
              imageContrast: 1,
              imageSolarize: 0.5,
              imagePixelate: 12,
              imageDither: 0.5,
              imageThreshold: 0.5,
              imagePosterize: 5,
              imageBlur: 0,
              imageBlurRadius: 0,
              imageBlurStrength: 1,
              imageEdgeBlur: 0,
              imageHighpassRadius: 1,
              imageHighpassStrength: 1,
              imageLowpassRadius: 2,
              imageLowpassStrength: 0.6,
              imageVignetteStrength: 0.4,
              imageVignetteRadius: 0.85,
              imageCurveStrength: 0.4,
              imageBandCenter: 0.5,
              imageBandWidth: 0.3,
            },
          ],
          imageThreshold: 0.5,
          imagePosterize: 5,
          imageBlur: 0,
          imageBlurRadius: 0,
          imageBlurStrength: 1,
          imageBrightness: 0,
          imageLevelsLow: 0,
          imageLevelsHigh: 1,
          imageEmbossStrength: 1,
          imageSharpenAmount: 1,
          imageSharpenRadius: 1,
          imageMedianRadius: 1,
          imageGamma: 1,
          imageContrast: 1,
          imageSolarize: 0.5,
          imagePixelate: 12,
          imageDither: 0.5,
          noiseStyle: 'linear',
          noiseThreshold: 0,
          imageWidth: 1,
          imageHeight: 1,
          microFreq: 0,
          polygonRadius: 2,
          polygonSides: 6,
          polygonRotation: 0,
          polygonOutline: 0,
          polygonEdgeRadius: 0,
        },
      ],
      startR: 5,
      angleOffset: 0,
      pulseAmp: 0,
      pulseFreq: 2,
      axisSnap: true,
      close: false,
      closeFeather: 0.5,
      smoothing: 0,
      simplify: 0,
      curves: false,
    },
    grid: {
      rows: 20,
      cols: 20,
      distortion: 10,
      noiseScale: 0.05,
      type: 'warp',
      chaos: 0,
      smoothing: 0,
      simplify: 0,
      curves: false,
    },
    phylla: {
      count: 500,
      spacing: 5,
      angleStr: 137.5,
      divergence: 1.0,
      noiseInf: 0,
      dotSize: 1.0,
      shapeType: 'circle',
      sides: 6,
      sideJitter: 0,
      smoothing: 0,
      simplify: 0,
      curves: false,
    },
    boids: {
      count: 100,
      steps: 100,
      speed: 2,
      sepDist: 10,
      alignDist: 20,
      cohDist: 20,
      force: 0.05,
      sepWeight: 1.2,
      alignWeight: 1.0,
      cohWeight: 0.9,
      mode: 'birds',
      smoothing: 0,
      simplify: 0,
      curves: false,
    },
    attractor: {
      type: 'lorenz',
      iter: 1200,
      scale: 3,
      sigma: 10,
      rho: 28,
      beta: 2.66,
      dt: 0.01,
      smoothing: 0,
      simplify: 0,
      curves: false,
    },
    hyphae: {
      sources: 2,
      steps: 50,
      branchProb: 0.05,
      angleVar: 0.5,
      segLen: 3,
      maxBranches: 1000,
      smoothing: 0,
      simplify: 0,
      curves: false,
    },
    shapePack: {
      label: 'Shape Pack',
      shape: 'circle',
      count: 500,
      minR: 2,
      maxR: 20,
      padding: 1,
      attempts: 200,
      segments: 32,
      rotationStep: 0,
      perspectiveType: 'none',
      perspective: 0,
      perspectiveX: 0,
      perspectiveY: 0,
      smoothing: 0,
      simplify: 0,
      curves: true,
    },
    expanded: {
      label: 'Expanded Line',
      hidden: true,
      smoothing: 0,
      simplify: 0,
      curves: false,
    },
    group: {
      label: 'Group',
      hidden: true,
      smoothing: 0,
      simplify: 0,
      curves: false,
    },
  };

  window.Vectura.SETTINGS = {
    margin: 20,
    speedDown: 250,
    speedUp: 300,
    precision: 3,
    strokeWidth: 0.3,
    bgColor: '#121214',
    undoSteps: 20,
    truncate: true,
    outsideOpacity: 0.5,
    marginLineVisible: false,
    marginLineWeight: 0.2,
    marginLineColor: '#52525b',
    marginLineDotting: 0,
    showGuides: true,
    snapGuides: true,
    selectionOutline: true,
    selectionOutlineColor: '#ef4444',
    selectionOutlineWidth: 0.4,
    showCanvasHelp: true,
    gridOverlay: false,
    selectionMode: 'rect',
    paperSize: 'letter',
    paperWidth: 216,
    paperHeight: 279,
    paperOrientation: 'landscape',
    optimizationScope: 'active',
    optimizationPreview: 'off',
    optimizationExport: false,
    optimizationOverlayColor: '#38bdf8',
    optimizationOverlayWidth: 0.2,
    activeTool: 'select',
    scissorMode: 'line',
    lightSource: null,
    optimizationDefaults: {
      bypassAll: false,
      steps: [
        { id: 'linesimplify', enabled: false, bypass: false, tolerance: 0.2, mode: 'polyline' },
        { id: 'linesort', enabled: false, bypass: false, method: 'nearest', direction: 'none', grouping: 'layer' },
        { id: 'filter', enabled: false, bypass: false, minLength: 0, maxLength: 0, removeTiny: true },
        { id: 'multipass', enabled: false, bypass: false, passes: 2, offset: 0.2, jitter: 0, seed: 0 },
      ],
    },
    plotterOptimize: 0,
    paletteId: 'blues-01',
    autoColorization: {
      enabled: false,
      scope: 'all',
      mode: 'concentric',
      params: {
        radiusStart: 0,
        radiusEnd: 100,
        bandSize: 20,
        bandOffset: 0,
        bandGrowth: 0,
        bandStart: 0,
        bandEnd: 100,
        angleOffset: 0,
        angleSpan: 360,
        spiralTurns: 1,
        sizeCurve: 1,
        sizeInvert: false,
        randomSeed: 1,
      },
    },
    autoColorizationCollapsed: true,
    pens: [
      { id: 'pen-1', name: 'Pen 1', color: '#ffffff', width: 0.3 },
      { id: 'pen-2', name: 'Pen 2', color: '#dbeafe', width: 0.5 },
      { id: 'pen-3', name: 'Pen 3', color: '#93c5fd', width: 0.8 },
    ],
    globalLayerCount: 0,
  };
  window.Vectura.NOISE_IMAGES = window.Vectura.NOISE_IMAGES || {};
})();
